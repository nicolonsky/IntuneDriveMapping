$(function(){var n=$("#modal-placeholder");$('button[data-toggle="ajax-modal"]').click(function(){var t=$(this).data("url");$.get(t).done(function(t){n.html(t);n.find(".modal").modal("show")})});n.on("click",'[data-save="modal"]',function(t){t.preventDefault();var i=$(this).parents(".modal").find("form"),r=i.attr("action"),u=new FormData(i.get(0));$.ajax({url:r,method:"post",data:u,processData:!1,contentType:!1}).done(function(t){var r=$(".modal-body",t),u,i,f;n.find(".modal-body").replaceWith(r);u=r.find('[name="IsValid"]').val()==="True";u&&(i=$("#driveMappings"),f=i.data("url"),$.get(f).done(function(n){i.replaceWith(n)}),n.find(".modal").modal("hide"),location.reload())})})});